{% extends 'layout.html.twig' %}

{% block body %}
	{{ parent() }}
	
    {{ include('userBundle:Partida:messages/success.html.twig') }}
    
	<div class="container">
		<div class="col-md-12">
			<div class="page-header margin-none">
				<h2 class="padding-none">{% trans %} Statistics {% endtrans %}</h2>
			</div>
			<div class="table-responsive mejor-piloto">
				<h3 class="mejor-piloto">Mejor puntacion</h3>
				<table class="table table-striped table-hover">
					<tead>
						<tr>
							<th>{{ 'Nick'|trans }}</th>
							<th>{{ 'Space pilot'|trans }}</th>
							<th>{{ 'Race'|trans }}</th>
							<th>{{ 'Number of shots'|trans }}</th>
							<th>{{ 'Dead enemies'|trans }}</th>
							<th>{{ 'Score'|trans }}</th>
					
						<tr>
					</thead>
					<tbody>
						<tr>
						<td>{{ part.user.nick }}</td>
						<td>{{ part.nombrePiloto }}</td>
						<td>{{ part.raza }}</td>
						<td>{{ part.disparos }}</td>
						<td>{{ part.deads }}</td>
						<td>{{ part.score }}</td>

					</tbody>
				</table>
			</div>

			<div class="table-responsive">
				<h3 class="mejor-piloto">Partidas acabadas</h3>
				<p>
				    Total records: <span id="total"> {{ pagination.getTotalItemCount }} </span>
				</p>
				<table class="table table-striped table-hover">
					<thead>
						<tr>
							<th>{{ knp_pagination_sortable(pagination, 'Nick'|trans, 'p.nombrePiloto') }}</th>
                            <th>{{ knp_pagination_sortable(pagination, 'Space pilot'|trans, 'p.nombrePiloto') }}</th>
                            <th>{{ knp_pagination_sortable(pagination, 'Race'|trans, 'p.raza') }}</th>
                            <th>{{ knp_pagination_sortable(pagination, 'Number of shots'|trans, 'p.disparos') }}</th>
                            <th>{{ knp_pagination_sortable(pagination, 'Dead enemies'|trans, 'p.deads') }}</th>
                            <th>{{ knp_pagination_sortable(pagination, 'Score'|trans, 'p.score') }}</th> 

						</tr>
					</thead>
					<tbody>
				        {% for partidas in pagination %}
				            <tr data-id="{{ partidas.id }}">
				                 <td>
				                	<a href="{{ path('partida_view', {id: partidas.id}) }}">{{ partidas.user.nick }}</a>
				                </td>
				                <td>{{ partidas.nombrePiloto }}</td>
								<td>{{ partidas.raza }}</td>
								<td>{{ partidas.disparos }}</td>
								<td>{{ partidas.deads }}</td>
								<td>{{ partidas.score }}</td>
				            </tr>
				        {% endfor %}
					</tbody>
				</table>
				{# display navigation #}
				<div class="navigation">
				    {{ knp_pagination_render(pagination) }}
				</div>
			</div>
		</div>
	</div>
{% endblock %}